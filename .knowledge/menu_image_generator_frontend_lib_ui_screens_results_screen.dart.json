{"is_source_file": true, "format": "Dart", "description": "Source code for the ResultsScreen class in a Flutter application. This screen displays the results of a MenuRun, allowing users to view a grid or list of menu items, save the run, or start a new scan.", "external_files": ["package:flutter/material.dart", "package:menu_image_generator_frontend/models/models.dart", "package:menu_image_generator_frontend/ui/screens/widgets/menu_result_card.dart", "package:menu_image_generator_frontend/services/persistence_service.dart"], "external_methods": ["Theme.of(context).colorScheme", "Theme.of(context).textTheme", "ModalRoute.of(context)?.settings.arguments", "Navigator.of(context).pushNamed", "Navigator.of(context).popUntil", "WidgetsBinding.instance.addPostFrameCallback", "ScaffoldMessenger.of(context).showSnackBar", "PersistenceService.I.saveRun", "Provider.of(context).maxRuns"], "published": ["ResultsScreen"], "classes": [{"name": "ResultsScreen", "description": "A StatefulWidget that displays the results of a MenuRun, including a header, grid of items, and action buttons for saving or starting a new scan."}, {"name": "_ResultsHeader", "description": "A StatelessWidget that displays a summary of the MenuRun including counts of successes, errors, total items, and optional error summary."}, {"name": "_ResultsGrid", "description": "A StatelessWidget that displays MenuItem results in a responsive grid or list depending on screen width."}, {"name": "_Pill", "description": "A small widget representing a colored badge with an icon and label, used for run statistics."}], "methods": [{"name": "_saveRun", "description": "Asynchronously saves the MenuRun object via PersistenceService, displaying feedback via a SnackBar."}, {"name": "_newScan", "description": "Navigates back to the initial capture screen by popping routes until the first route."}], "calls": ["Theme.of(context).colorScheme", "Theme.of(context).textTheme", "ModalRoute.of(context)?.settings.arguments", "Navigator.of(context).pushNamed('/history')", "Navigator.of(context).popUntil((route) => route.isFirst)", "WidgetsBinding.instance.addPostFrameCallback", "ScaffoldMessenger.of(context).showSnackBar", "PersistenceService.I.saveRun(run)"], "search-terms": ["ResultsScreen", "MenuRun", "saveRun", "ResultsHeader", "ResultsGrid", "menu_image_generator_frontend", "menu_result_card", "persistence_service"], "state": 2, "file_id": 38, "knowledge_revision": 165, "git_revision": "", "revision_history": [{"126": ""}, {"139": ""}, {"141": ""}, {"144": ""}, {"145": ""}, {"146": ""}, {"150": ""}, {"159": ""}, {"165": ""}], "hash": "e7913332b442ed773aeaaf5d5021f119", "format-version": 4, "code-base-name": "menu_image_generator_frontend", "filename": "menu_image_generator_frontend/lib/ui/screens/results_screen.dart"}