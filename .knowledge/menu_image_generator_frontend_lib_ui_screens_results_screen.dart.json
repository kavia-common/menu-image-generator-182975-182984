{"is_source_file": true, "format": "Dart", "description": "This file defines the `ResultsScreen` widget for a Flutter application, which displays the results of a menu scan. It shows a header with a summary, a grid or list of result cards, and provides actions to save the results or start a new scan. The code includes state management, navigation, and UI components specific to the results display and user interactions.", "external_files": ["package:flutter/material.dart", "package:menu_image_generator_frontend/models/models.dart", "package:menu_image_generator_frontend/ui/screens/widgets/menu_result_card.dart", "package:menu_image_generator_frontend/services/persistence_service.dart"], "external_methods": ["Theme.of(context).colorScheme", "Theme.of(context).textTheme", "ModalRoute.of(context)?.settings.arguments", "Navigator.of(context).pushNamed", "Navigator.of(context).popUntil", "ScaffoldMessenger.of(context).showSnackBar", "WidgetsBinding.instance.addPostFrameCallback"], "published": ["ResultsScreen", "ResultsScreenState", "_ResultsHeader", "_ResultsGrid", "_Pill"], "classes": [{"name": "ResultsScreen", "description": "A StatefulWidget that displays the results of a menu scan, including a summary, result items, and action buttons for saving or starting a new scan."}, {"name": "_ResultsHeader", "description": "A StatelessWidget that displays a summary of the menu scan results, including success and error counts and optional error notes."}, {"name": "_ResultsGrid", "description": "A StatelessWidget that displays the list or grid of result items, adapting layout based on available width."}, {"name": "_Pill", "description": "A small widget representing a colored label with an icon, used in the summary header to show counts of success, errors, and total items."}], "methods": [{"name": "_saveRun", "description": "Handles the process of saving the current menu run, including showing feedback to the user and managing loading state."}, {"name": "_newScan", "description": "Navigates back to the initial screen to start a new scan."}], "calls": ["Theme.of(context).colorScheme", "Theme.of(context).textTheme", "ModalRoute.of(context)?.settings.arguments", "Navigator.of(context).pushNamed('/history')", "Navigator.of(context).popUntil", "ScaffoldMessenger.of(context).showSnackBar", "WidgetsBinding.instance.addPostFrameCallback", "PersistenceService.I.saveRun", "run.items.where", "run.items.length", "MenuResultCard(item: items[index])"], "search-terms": ["ResultsScreen", "Results display", "MenuRun results", "save run", "Result header", "Responsive grid", "Result item list", "Flutter results page"], "state": 2, "file_id": 38, "knowledge_revision": 159, "git_revision": "", "revision_history": [{"126": ""}, {"139": ""}, {"141": ""}, {"144": ""}, {"145": ""}, {"146": ""}, {"150": ""}, {"159": ""}], "hash": "dba49955ce4d66996555d73d3d7268e4", "format-version": 4, "code-base-name": "menu_image_generator_frontend", "filename": "menu_image_generator_frontend/lib/ui/screens/results_screen.dart"}