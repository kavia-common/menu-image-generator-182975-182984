{"is_source_file": true, "format": "Dart", "description": "This file defines a Flutter widget called ResultsScreen that displays the results of a menu scan or generation process. It shows a header with a summary, a grid or list of result cards, and options to save the run or start a new scan. The code manages state related to saving and handles user interactions, integrating with a persistence service.", "external_files": ["package:flutter/material.dart", "package:menu_image_generator_frontend/models/models.dart", "package:menu_image_generator_frontend/ui/screens/widgets/menu_result_card.dart", "package:menu_image_generator_frontend/services/persistence_service.dart"], "external_methods": ["Theme.of(context).colorScheme", "Theme.of(context).textTheme.titleMedium?.copyWith", "Theme.of(context).textTheme.bodySmall?.copyWith", "WidgetsBinding.instance.addPostFrameCallback", "ScaffoldMessenger.of(context).showSnackBar", "Navigator.of(context).popUntil", "ModalRoute.of(context)?.settings.arguments", "Colors.black", "Colors.white70", "Colors.primary", "Colors.error", "Colors.blue", "Shapes.borderRadius", "LinearGradient", "SliverGridDelegateWithFixedCrossAxisCount", "GridView.builder", "ListView.builder"], "published": ["ResultsScreen"], "classes": [{"name": "ResultsScreen", "description": "A StatefulWidget that displays the results of a MenuRun, including a grid of result cards, summary header, and actions for saving or starting a new scan."}, {"name": "_ResultsHeader", "description": "A StatelessWidget that displays a summary of the MenuRun, including success/error counts and error summaries."}, {"name": "_ResultsGrid", "description": "A StatelessWidget that displays a responsive grid or list of MenuResultCard widgets based on screen width."}, {"name": "_Pill", "description": "A small widget displaying an icon and label with colored styling, used for run summary indicators."}], "methods": [{"name": "_saveRun", "description": "Handles saving a MenuRun by calling PersistenceService, shows a SnackBar with success or error messages, manages loading state."}, {"name": "_newScan", "description": "Navigates back to the initial scan screen by popping routes until the first."}], "calls": ["PersistenceService.I.saveRun", "Theme.of", "WidgetsBinding.instance.addPostFrameCallback", "ScaffoldMessenger.of(context).showSnackBar", "Navigator.of(context).popUntil", "ModalRoute.of", "MaterialPageRoute.settings.arguments"], "search-terms": ["ResultsScreen", "save run", "MenuRun", "Results grid", "Results header", "menu result card", "Flutter results page", "scan results", "UI results display"], "state": 2, "file_id": 38, "knowledge_revision": 150, "git_revision": "", "revision_history": [{"126": ""}, {"139": ""}, {"141": ""}, {"144": ""}, {"145": ""}, {"146": ""}, {"150": ""}], "hash": "8b4ef54f0afd4107745e4040393f6afb", "format-version": 4, "code-base-name": "menu_image_generator_frontend", "filename": "menu_image_generator_frontend/lib/ui/screens/results_screen.dart"}