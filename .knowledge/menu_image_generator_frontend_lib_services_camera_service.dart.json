{"is_source_file": true, "format": "Dart", "description": "This file defines the CameraService class providing methods to handle camera and gallery permissions, capture images from the camera or picker, and convert images to base64 data URLs for use in a Flutter application.", "external_files": ["package:flutter/foundation.dart", "package:image_picker/image_picker.dart", "package:permission_handler/permission_handler.dart"], "external_methods": ["kIsWeb", "Platform.isAndroid", "Platform.isIOS", "Permission.camera.status", "Permission.camera.request()", "Permission.photos.status", "Permission.photos.request()", "Permission.storage.request()", "PermissionHandler.status", "PermissionHandler.request()", "ImagePicker.pickImage()", "XFile.readAsBytes()", "base64Encode()"], "published": ["CameraService"], "classes": [{"name": "CameraService", "description": "A service class providing camera and gallery image handling, including permission requests and image conversion to base64 data URLs."}], "methods": [{"name": "requestCameraPermission", "description": "Requests camera permission depending on platform; returns true if permission is granted or not required."}, {"name": "requestGalleryPermission", "description": "Requests gallery/photo permissions depending on platform; returns true if permission is granted."}, {"name": "captureFromCameraAsDataUrl", "description": "Captures an image from the camera, converts it to a base64 data URL, or returns null if canceled or permission denied."}, {"name": "pickFromGalleryAsDataUrl", "description": "Allows user to pick an image from the gallery, converts it to a base64 data URL, or returns null if canceled or permission denied."}, {"name": "_toBase64DataUrl", "description": "Converts an XFile image to a base64 data URL string, inferring MIME type from file extension."}], "calls": ["requestCameraPermission()", "requestGalleryPermission()", "_picker.pickImage()", "file.readAsBytes()", "base64Encode()"], "search-terms": ["CameraService", "permissions", "ImagePicker", "base64", "OCR", "permission_handler"], "state": 2, "file_id": 23, "knowledge_revision": 57, "git_revision": "", "hash": "c14d3ede475d00f940c12e11f0b26367", "format-version": 4, "code-base-name": "menu_image_generator_frontend", "filename": "menu_image_generator_frontend/lib/services/camera_service.dart", "revision_history": [{"57": ""}]}