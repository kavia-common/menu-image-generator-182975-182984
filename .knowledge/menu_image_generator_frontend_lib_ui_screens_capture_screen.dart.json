{"is_source_file": true, "format": "Dart", "description": "This file defines a Flutter widget class for a screen that allows users to capture or import menu images, handle related actions, and navigate to a processing screen. It includes UI layout, state management, and interaction logic.", "external_files": ["package:flutter/material.dart", "package:menu_image_generator_frontend/config/config.dart", "package:menu_image_generator_frontend/services/camera_service.dart", "package:menu_image_generator_frontend/ui/screens/processing_screen.dart"], "external_methods": ["Config.hasOpenAIApiKey", "Theme.of", "ScaffoldMessenger.of", "Navigator.of"], "published": ["CaptureScreen"], "classes": [{"name": "CaptureScreen", "description": "A stateful widget representing the capture menu screen, providing options to scan via camera or import from gallery, with UI feedback and navigation to a processing screen."}, {"name": "_CaptureScreenState", "description": "State class managing the interactive state of CaptureScreen, including handling capture actions, import actions, UI state, and navigation logic."}], "methods": [{"name": "_handleCapture", "description": "Asynchronously captures an image from the camera, manages UI state, and signals navigation to the processing screen upon success."}, {"name": "_handleImport", "description": "Asynchronously imports an image from the gallery, updating UI state and triggering navigation upon success."}, {"name": "_showMissingKeySnack", "description": "Displays a snackbar message indicating missing API key."}, {"name": "build", "description": "Builds the UI of the capture screen, managing conditional navigation, showing buttons for capturing or importing images, and displaying progress indicators or error messages as needed."}], "calls": ["Config.hasOpenAIApiKey", "Theme.of", "ScaffoldMessenger.of", "Navigator.of", "CameraService().captureFromCameraAsDataUrl", "CameraService().pickFromGalleryAsDataUrl"], "search-terms": ["capture_screen", "CameraService", "ProcessingArgs", "Import from gallery", "Scan Menu", "navigation logic", "Flutter capture UI"], "state": 2, "file_id": 26, "knowledge_revision": 122, "git_revision": "", "revision_history": [{"74": ""}, {"79": ""}, {"105": ""}, {"106": ""}, {"117": ""}, {"118": ""}, {"122": ""}], "hash": "355a2f6d2d20a9a73f5d76922155deea", "format-version": 4, "code-base-name": "menu_image_generator_frontend", "filename": "menu_image_generator_frontend/lib/ui/screens/capture_screen.dart"}