{"is_source_file": true, "format": "Dart", "description": "This file defines a Flutter UI screen called CaptureScreen, which provides users with options to capture a menu via camera, import from gallery, or load a sample menu. It manages user interactions, invokes camera services, handles state flags for async operations, and navigates to a processing screen with the captured or selected menu data.", "external_files": ["package:flutter/material.dart", "package:menu_image_generator_frontend/config/config.dart", "package:menu_image_generator_frontend/services/camera_service.dart", "package:menu_image_generator_frontend/services/asset_image_loader.dart", "package:menu_image_generator_frontend/ui/screens/processing_screen.dart"], "external_methods": ["Config.hasOpenAIApiKey", "Theme.of(context).colorScheme", "ScaffoldMessenger.of(context).showSnackBar", "WidgetsBinding.instance.addPostFrameCallback", "Navigator.of(context).pushNamed"], "published": ["CaptureScreen"], "classes": [{"name": "CaptureScreen", "description": "A StatefulWidget that provides UI and logic for capturing or importing a menu image, with options to scan via camera, import from gallery, or try an example menu."}, {"name": "_CaptureScreenState", "description": "State class for CaptureScreen that handles user interactions, manages async operations, state flags, and navigation logic."}], "methods": [{"name": "_handleCapture", "description": "Handles capturing a menu image from the camera, sets state flags, and manages async flow."}, {"name": "_handleImport", "description": "Handles importing a menu image from the device gallery, manages async flow and state flags."}, {"name": "_handleTryExample", "description": "Loads a sample menu image bundled with assets for demo purposes."}, {"name": "_showMissingKeySnack", "description": "Displays a snackbar warning if OpenAI API key is missing."}, {"name": "build", "description": "Builds the widget tree for the CaptureScreen, including navigation logic, UI elements, and loading indicator."}], "calls": ["Config.hasOpenAIApiKey", "Theme.of(context)", "ScaffoldMessenger.of(context).showSnackBar", "WidgetsBinding.instance.addPostFrameCallback", "Navigator.of(context).pushNamed"], "search-terms": ["capture_screen", "menu image capture", "flutter capture menu", "import menu gallery", "sample menu loader", "menu capture UI", "camera service", "asset image loader"], "state": 2, "file_id": 26, "knowledge_revision": 196, "git_revision": "", "revision_history": [{"74": ""}, {"79": ""}, {"105": ""}, {"106": ""}, {"117": ""}, {"118": ""}, {"122": ""}, {"195": ""}, {"196": ""}], "hash": "572706ac49d2ea8e4b5370d2a3564a5c", "format-version": 4, "code-base-name": "menu_image_generator_frontend", "filename": "menu_image_generator_frontend/lib/ui/screens/capture_screen.dart"}