{"is_source_file": true, "format": "Dart", "description": "This file defines the CaptureScreen widget for a Flutter application. It provides UI and logic for capturing images via camera or importing from gallery, including handling API key verification, asynchronous image capture, and navigation to a processing screen.", "external_files": ["package:flutter/material.dart", "package:menu_image_generator_frontend/config/config.dart", "package:menu_image_generator_frontend/services/camera_service.dart"], "external_methods": ["Config.hasOpenAIApiKey", "Theme.of", "ScaffoldMessenger.of", "Navigator.of", "WidgetsBinding.instance.addPostFrameCallback"], "published": ["CaptureScreen", "ProcessingArgs", "ProcessingScreen"], "classes": [{"name": "CaptureScreen", "description": "A stateful widget that provides UI for capturing or importing menu images and navigating to processing."}, {"name": "ProcessingArgs", "description": "Simple class to pass image data URL between screens."}, {"name": "ProcessingScreen", "description": "A placeholder widget representing the processing screen that receives image data for further operations."}], "methods": [{"name": "_handleCapture", "description": "Handles capturing an image from the camera asynchronously, updates state flags accordingly."}, {"name": "_handleImport", "description": "Handles importing an image from gallery asynchronously, updates state flags accordingly."}, {"name": "_showMissingKeySnack", "description": "Displays a SnackBar informing the user about missing OpenAI API key."}], "calls": ["CameraService().captureFromCameraAsDataUrl", "CameraService().pickFromGalleryAsDataUrl", "Theme.of(context)", "ScaffoldMessenger.of(context).showSnackBar", "Navigator.of(context).pushNamed"], "search-terms": ["CaptureScreen", "camera capture", "gallery import", "OpenAI API key", "imageDataUrl", "ProcessingArgs", "ProcessingScreen", "capture", "import", "navigation", "async"], "state": 2, "file_id": 26, "knowledge_revision": 106, "git_revision": "", "revision_history": [{"74": ""}, {"79": ""}, {"105": ""}, {"106": ""}], "hash": "5edc22267b618f40e225eca1dddcd63a", "format-version": 4, "code-base-name": "menu_image_generator_frontend", "filename": "menu_image_generator_frontend/lib/ui/screens/capture_screen.dart"}