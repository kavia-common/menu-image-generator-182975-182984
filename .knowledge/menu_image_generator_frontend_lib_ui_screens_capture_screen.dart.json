{"is_source_file": true, "format": "Dart", "description": "This is a Dart source file defining a Flutter widget for the Capture Screen in a menu image generator app. It handles user interactions for capturing images via camera or gallery, manages app state during async operations, and navigates to a processing screen with the captured image.", "external_files": ["package:flutter/material.dart", "package:menu_image_generator_frontend/config/config.dart", "package:menu_image_generator_frontend/services/camera_service.dart"], "external_methods": ["Config.hasOpenAIApiKey", "Theme.of", "ScaffoldMessenger.of", "Navigator.of", "WidgetsBinding.instance.addPostFrameCallback"], "published": ["CaptureScreen", "ProcessingArgs", "ProcessingScreen"], "classes": [{"name": "CaptureScreen", "description": "Main widget allowing users to capture or import menu images, providing UI for these actions and handling navigation after image capture."}, {"name": "ProcessingArgs", "description": "A simple data class for passing image data URL to the processing screen."}, {"name": "ProcessingScreen", "description": "Placeholder screen indicating that image processing is underway, receiving image data URL via navigation arguments."}], "methods": [{"name": "_handleCapture", "description": "Handles camera capture operation, setting state flags, invoking CameraService, and preparing to navigate with the captured image."}, {"name": "_handleImport", "description": "Handles image import from the gallery, invoking CameraService, and preparing to navigate with the imported image."}, {"name": "_showMissingKeySnack", "description": "Displays a SnackBar notification when the OpenAI API key is missing."}, {"name": "build", "description": "Builds the UI for the capture screen, manages navigation flags, and displays the user interface for capturing/importing images."}], "calls": ["Config.hasOpenAIApiKey", "Theme.of", "ScaffoldMessenger.of", "Navigator.of", "WidgetsBinding.instance.addPostFrameCallback", "CameraService().captureFromCameraAsDataUrl", "CameraService().pickFromGalleryAsDataUrl"], "search-terms": ["capture_screen", "menu image capture", "Flutter camera integration", "import from gallery", "async state management", "navigation flags", "CameraService", "ProcessingArgs", "ProcessingScreen"], "state": 2, "file_id": 26, "knowledge_revision": 74, "git_revision": "", "hash": "8c8b78ec615b9382951a955f63beab9a", "format-version": 4, "code-base-name": "menu_image_generator_frontend", "filename": "menu_image_generator_frontend/lib/ui/screens/capture_screen.dart", "revision_history": [{"74": ""}]}