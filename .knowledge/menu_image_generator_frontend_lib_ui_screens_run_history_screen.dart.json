{"is_source_file": true, "format": "Dart", "description": "This Dart file defines a Flutter widget screen called RunHistoryScreen, which displays a list of saved menu runs sorted by most recent. It includes UI components for listing runs, formatting timestamps, showing status icons and colors, and navigating to a detailed results screen. It interacts with external services and models to fetch and display data related to menu runs.", "external_files": ["package:flutter/material.dart", "package:menu_image_generator_frontend/models/models.dart", "package:menu_image_generator_frontend/services/persistence_service.dart"], "external_methods": ["PersistenceService.I.getRuns()", "Navigator.of(context).pushNamed()", "Theme.of(context).colorScheme", "Theme.of(context).textTheme"], "published": ["RunHistoryScreen"], "classes": [{"name": "RunHistoryScreen", "description": "Public widget that displays the list of saved runs with styling and navigation."}, {"name": "_RunHistoryScreenState", "description": "State class managing the list of runs, formatting, and UI logic."}, {"name": "_StatPill", "description": "A small widget displaying an icon and label used for stats within the run summary."}], "methods": [{"name": "_formatTimestamp", "description": "Formats a timestamp in milliseconds into a human-readable relative time string."}, {"name": "_statusColor", "description": "Returns a color code based on the run status."}, {"name": "_statusIcon", "description": "Returns an icon based on the run status."}], "calls": ["PersistenceService.I.getRuns()", "Navigator.of(context).pushNamed()", "Theme.of(context).colorScheme", "Theme.of(context).textTheme", "DateTime.fromMillisecondsSinceEpoch", "DateTime.now", "now.difference", "Color()", "Icons.check_circle_rounded", "Icons.error_rounded", "Icons.hourglass_top_rounded"], "search-terms": ["RunHistoryScreen", "Flutter run history list", "MenuRun list Flutter", "run timestamp formatting", "run status color Flutter", "navigate to results screen Flutter", "list view of runs Flutter"], "state": 2, "file_id": 44, "knowledge_revision": 158, "git_revision": "", "hash": "451d45ac2b82bfcd68460e1ce60ca14f", "format-version": 4, "code-base-name": "menu_image_generator_frontend", "filename": "menu_image_generator_frontend/lib/ui/screens/run_history_screen.dart", "revision_history": [{"158": ""}]}